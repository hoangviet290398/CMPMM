<div class="px-4 px-lg-0">

    <div class="container text-dark text-center">
        <h1 class="display-4">Checkout</h1>
        <hr style="height:2px;border:none;color:#333;background-color:#333;">
        <div class="pb-2"></div>
    </div>
    <div class="pb-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 p-5 bg-white rounded shadow mb-5">
                    <th scope="col" class="float-right border-0 pb-3">
                        <a href="/cart" class="btn btn-outline-dark">Edit cart <i class="fa fa-pencil"></i></a>
                    </th>
                    <!-- Shopping cart table -->
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="p-2 px-3 text-uppercase">Product</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Price</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Quantity</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Sub total</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of cartItems;let i = index ">
                                    <th scope="row" class="border-0">
                                        <div class="p-2">
                                            <img src="../../assets/images/{{item.product.img}}" alt="" width="70" class="img-fluid rounded shadow-sm">
                                            <div class="ml-3 d-inline-block align-middle">
                                                <h5 class="mb-0"> <a href="/product-detail/{{item.product._id}}" class="text-dark d-inline-block align-middle">{{item.product.name}}</a></h5>
                                            </div>
                                        </div>
                                    </th>
                                    <td class="border-0 align-middle">
                                        <strong>${{item.product.price}}</strong></td>
                                    <td class="border-0 align-middle">
                                        <strong>{{item.quantity}}</strong></td>
                                    <td class="border-0 align-middle">
                                        <strong>${{singleItemTotal[i]|number:'1.2-2'}}</strong></td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <!-- End -->
                </div>
            </div>

            <div class="row py-5 p-4 bg-white rounded shadow">
                <div class="col-sm-6">
                    <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Billing address</div>
                    <form [formGroup]="InfoForm" (ngSubmit)="onSubmit()">
                        <div class="px-3 py-4">
                            <div class="form-group">
                                <input type="text" class="form-control mb-2" formControlName="name" placeholder="Customer name">
                                <div class="invalid-feedback d-block" *ngIf="submitted && myForm.name.errors?.required">
                                    Customer name is required.
                                </div>
                            </div>
                            <div class="p-1"></div>
                            <div class="form-group ">
                                <input type="text" class="form-control" formControlName="address" placeholder="Address">
                                <div class="invalid-feedback d-block" *ngIf="submitted && myForm.address.errors?.required">
                                    Address is required.
                                </div>
                            </div>
                            <div class="p-1"></div>

                            <div class="form-group ">
                                <input type="text" class="form-control" formControlName="phoneNumber" placeholder="Phone number">
                                <div class="invalid-feedback  d-block" *ngIf="submitted && myForm.phoneNumber.errors?.required">
                                    Phone number is required
                                </div>
                                <div class="invalid-feedback  d-block" *ngIf="submitted && myForm.phoneNumber.errors?.pattern">
                                    Enter numbers Only
                                </div>
                            </div>
                            <div class="p-1"></div>

                            <div class="form-group">
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">@</div>
                                    </div>
                                    <input type="email" class="form-control" formControlName="emailAddress" placeholder="Email address">
                                    <div class="invalid-feedback  d-block" *ngIf="submitted && myForm.emailAddress.errors?.required">
                                        Enter your email.
                                    </div>
                                    <div class="invalid-feedback  d-block" *ngIf="submitted && myForm.emailAddress.errors?.pattern">
                                        Enter valid email.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>
                <div class="col-sm-6">
                    <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Order summary </div>
                    <div class="p-4">
                        <p class="font-italic mb-4">Shipping and additional costs are not included.</p>
                        <ul class="list-unstyled mb-4">
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Order Subtotal </strong><strong>${{subTotal|number:'1.2-2'}}</strong></li>
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Tax</strong><strong>${{tax|number:'1.2-2'}}</strong></li>
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Total</strong>
                                <h5 class="font-weight-bold">${{total|number:'1.2-2'}}</h5>
                            </li>
                        </ul><button (click)="onSubmit()" class="btn btn-dark rounded-pill py-2 btn-block">Checkout</button>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>